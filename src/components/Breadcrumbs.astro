---
// src/components/Breadcrumbs.astro
// Este componente usa estilos CSS inline para garantir a consistência e evitar conflitos.

export interface Crumb {
    href: string;
    label: string;
}

export interface Props {
    crumbs: Crumb[];
}

const { crumbs } = Astro.props;
---
<nav
    aria-label="Você está em"
    style="margin-bottom: 0.5rem; font-size: 0.85rem; color: #777; display:flex; align-items:center; flex-wrap:wrap; gap:4px;"
>
    {/* Casinha SVG minimalista */}
    <a
        href="/"
        style="display:inline-flex; align-items:center; text-decoration:none; color:#555; margin-right:4px;"
        aria-label="Voltar para a página inicial"
    >
        <svg
            viewBox="0 0 24 24"
            width="14"
            height="14"
            aria-hidden="true"
            style="margin-right: 4px;"
        >
            <path
                d="M4 11L12 4L20 11V20C20 20.552 19.552 21 19 21H5C4.448 21 4 20.552 4 20V11Z"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6"
                stroke-linejoin="round"
            />
            <path
                d="M10 21V14H14V21"
                fill="none"
                stroke="currentColor"
                stroke-width="1.6"
                stroke-linecap="round"
                stroke-linejoin="round"
            />
        </svg>
    </a>

    {crumbs.map((crumb, index) => {
        const isLast = index === crumbs.length - 1;
        return (
            <>
                {/* Separador: usa '›' (maior que) */}
                {index === 0 ? null : (
                    <span style="margin: 0 0.25rem;">›</span>
                )}

                {/* Link ou Texto Final */}
                {!isLast && crumb.href ? (
                    <a
                        href={crumb.href}
                        style="color: #555; text-decoration: none; display: inline-block; max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"
                    >
                        {crumb.label}
                    </a>
                ) : (
                    <span style={isLast ? 'font-weight: 600; color: #333; display: inline-block; max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;' : 'display: inline-block; max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;'}>
                        {crumb.label}
                    </span>
                )}
            </>
        );
    })}
</nav>